import Guide from '~/components/layout/guide'
import { Image } from '~/components/media'
import Caption from '~/components/text/caption'
import Note from '~/components/text/note'
import DeploySection from '~/components/guides/deploy-section'
import OrgName from '~/components/name/org-name'
import ProductName from '~/components/name/product-name'
import NameWrapper from '~/components/name/name-wrapper'
import { PRODUCT_NAME, ORG_NAME } from '~/lib/constants'

export const meta = {
  title: `Debug and Troubleshoot Logs with ${PRODUCT_NAME} and Sematext`,
  description: `Automatically send all ${ORG_NAME} logs to Sematext to understand how your application is running.`,
  published: '2020-06-18T17:18:39.807Z',
  authors: ['adnanrahic'],
  url: '/guides/debugging-and-troubleshooting-vercel-logs-with-sematext',
  image: `https://og-image.now.sh/**Debug%20and%20Troubleshoot%20Logs**%20with%20${PRODUCT_NAME}%20and%20Sematext.png?theme=light&md=1&fontSize=96px&images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg&images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Fv1592497724%2Ffront%2Fguides%2Fogp%2Fsematext-icon.svg`,
  editUrl:
    'pages/guides/debugging-and-troubleshooting-vercel-logs-with-sematext.mdx',
  lastEdited: '2020-06-18T16:33:15.000Z'
}

[Sematext](https://sematext.com/) is a full-stack observability tool that helps developers keep track of logs, metrics, infrastructure, and website performance.

This guide walks you through setting up a [log drain](/blog/log-drains) for your <OrgName /> deployments. The log drain will automatically send logs to Sematext where you can debug and troubleshoot issues with full-text search, filtering, tagging, and custom charts for your <OrgName /> logs.

## Step 1: Import and Deploy with <NameWrapper name={PRODUCT_NAME} />

<DeploySection meta={meta} />

## Step 2: Install the Sematext Logs <NameWrapper name={ORG_NAME} /> Integration

With your project set up with <OrgName />, install the [Sematext Logs integration](/integrations/sematext-log-drain) from the [<OrgName /> Integrations Marketplace](/integrations) to add it to your account.

<Image
  src={`${
    process.env.ASSETS
  }/guides/debugging-and-troubleshooting-vercel-logs-with-sematext/step-2-sematext-log-drain.png`}
  width={741 / 1.2}
  height={261 / 1.2}
  oversize
  shadow
/>
<Caption>
  Add the Sematext Logs integration.
</Caption>

Select the account or team your deployed project belongs to. You will then be redirected to Sematext Logs.

<Image
  src={`${
    process.env.ASSETS
  }/guides/debugging-and-troubleshooting-vercel-logs-with-sematext/step-2-add-sematext-log-drain.png`}
  width={740 / 1.2}
  height={689 / 1.2}
  oversize
  shadow
/>
<Caption>
  Grant the Sematext Logs integration access to the account that your
  project belongs to.
</Caption>

## Step 3: Set Up a Sematext Account

If you do not have a Sematext account already, click **Start Free Trial** on Sematext to sign up. Otherwise, you can continue with your existing account.

<Image
  src={`${
    process.env.ASSETS
  }/guides/debugging-and-troubleshooting-vercel-logs-with-sematext/step-3-sign-up-to-sematext.gif`}
  width={800 / 1.2}
  height={450 / 1.2}
  oversize
  shadow
/>
<Caption>Set up a Sematext Account.</Caption>

## Step 4: Create a Logs App

When logged in to Sematext, select **Start Shipping Logs**. This will set up a Logs App that acts as container for your data.

<Image
  src={`${
    process.env.ASSETS
  }/guides/debugging-and-troubleshooting-vercel-logs-with-sematext/step-4-start-shipping-logs.png`}
  width={1280 / 2}
  height={832 / 2}
  oversize
  shadow
/>
<Caption>Create a Logs App.</Caption>

The Logs App will show you a **token** you need to add to the Sematext Logs <NameWrapper name={ORG_NAME} /> Integration.

<Image
  src={`${
    process.env.ASSETS
  }/guides/debugging-and-troubleshooting-vercel-logs-with-sematext/step-4-save-token.png`}
  width={1280 / 2}
  height={800 / 2}
  oversize
  shadow
/>
<Caption>Save the token somewhere safe.</Caption>

## Step 5: Create a Sematext Log Drain

Open your [Sematext Logs integration](/integrations/sematext-log-drain), select the region in which you created your Sematext Account, and add the token from Step 4. Finally, save the log drain.

<Image
  src={`${
    process.env.ASSETS
  }/guides/debugging-and-troubleshooting-vercel-logs-with-sematext/step-5-create-log-drain.png`}
  width={1249 / 2}
  height={1372 / 2}
  oversize
  shadow
/>
<Caption>Set up the Sematext Log Drain.</Caption>

<Note>It may take a few seconds for logs to come in.</Note>

By default, you get a set of reports out of the box, with default alert rules to notify you for common errors and timeouts.

<Image
  src={`${
    process.env.ASSETS
  }/guides/debugging-and-troubleshooting-vercel-logs-with-sematext/step-5-logs-reports.png`}
  width={1280 / 2}
  height={800 / 2}
  oversize
  shadow
/>
<Caption>Sematext Logs reports showing logs data.</Caption>

These include structured formats for Lambda functions, including errors, timeouts, and cold starts.

## Step 6: Forwarding <NameWrapper name={ORG_NAME} /> Logs to Multiple Sematext Logs Apps (Optional)

When configuring the Sematext Logs <NameWrapper name={ORG_NAME} /> Integration you can configure whether to collect logs from all projects or just a few. With this integration you can configure multiple log drains that point to multiple destinations. This means you can specify which project will send logs to which Sematext Logs App.

To configure multiple log drains, create multiple Logs Apps in Sematext and multiple Log Drains in the Sematext Logs <NameWrapper name={ORG_NAME} /> Integration.

Once added, you'll see an overview of all the Log Drains you have configured.

<Image
  src={`${
    process.env.ASSETS
  }/guides/debugging-and-troubleshooting-vercel-logs-with-sematext/step-6-multiple-log-drains.png`}
  width={1249 / 2}
  height={746 / 2}
  oversize
  shadow
/>
<Caption>Multiple Log Drains.</Caption>

## Conclusion

This guide shows how to set up a Sematext Log Drain for your <OrgName /> deployments. The log drain will automatically send logs to Sematext where you can debug and troubleshoot issues with full-text search, filtering, tagging, and custom charts for your <OrgName /> logs.

export default ({ children }) => <Guide meta={meta}>{children}</Guide>

export const config = {
  amp: 'hybrid'
}
